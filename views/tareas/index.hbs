<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
  <div class="bg-white overflow-hidden shadow-xl sm:rounded-lg mt-12">

    <table class="table-fixed w-full">
      <thead>
        <tr class="bg-blue-500 text-white">
          <th class="w-20 py-4 ...">ID</th>
          <th class="w-1/4 py-4 ...">Título</th>
          <th class="w-1/2 py-4 ...">Descripción</th>
          <th class="w-28 py-4 ...">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {{#each tareas}}
        <tr>
          <td class="py-3 px-6">{{id}}</td>
          <td class="p-3">{{titulo}}</td>
          <td class="p-3 text-center">{{descripcion}}</td>
          <td class="p-3 flex">
           
            <button class="delete delete bg-red-500 text-white px-3 py-1 rounded-sm" value="{{id}}" ><i class="fas fa-trash"></i></button>
            <a href="/tareas/edit/{{id}}" class="bg-green-500 text-white px-3 py-1 rounded-sm">
              <i class="fas fa-pen"></i></a>
            <a href="/tareas/detalle/{{id}}" class="bg-blue-500 text-white px-3 py-1 rounded-sm">
              <i class="fas fa-eye"></i></a>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</div>

<script>

 $('.delete').click(function() {
    var param= $('.delete').val();
    doAjax(param);
    console.log(param)
})

  var doAjax = function(param) {
      console.log("ajax")
    $.ajax({
      type: 'DELETE',
      url: '/tareas/delete/' + param,
      data: param,
      dataType: "json",
      success: function(){
        console.log('yippee');
      }
    }).done(function () {
      location.href = "/tareas";
    });
   }
</script>